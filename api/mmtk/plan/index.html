<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="GC algorithms from the MMTk suite."><title>mmtk::plan - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="mmtk" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../mmtk/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../mmtk/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module plan</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">mmtk</a>::<wbr><a class="mod" href="#">plan</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/mmtk/plan/mod.rs.html#1-69">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>GC algorithms from the MMTk suite.</p>
<p>This module provides various GC plans, each of which implements a GC algorithm.
Generally a plan consists of a few parts:</p>
<ul>
<li>A plan type that implements the <a href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan"><code>Plan</code></a> trait, which defines
spaces used in the plan, and their behaviors in GC and page accounting.</li>
<li>A mutator definition, which describes the mapping between allocators and allocation semantics,
and the mapping between allocators and spaces. If the plan needs barrier, the barrier definition is
also included here.</li>
<li>A constant for <a href="plan_constraints/struct.PlanConstraints.html" title="struct mmtk::plan::plan_constraints::PlanConstraints"><code>PlanConstraints</code></a>, which defines
plan-specific constants.</li>
<li>Plan-specific <a href="../scheduler/work/trait.GCWork.html" title="trait mmtk::scheduler::work::GCWork"><code>GCWork</code></a>, which is scheduled during GC.</li>
</ul>
<p>For more about implementing a plan, it is recommended to read the <a href="/docs/tutorial/Tutorial.md">MMTk tutorial</a>.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="barriers/index.html" title="mod mmtk::plan::barriers">barriers</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Read/Write barrier implementations.</div></li><li><div class="item-name"><a class="mod" href="gc_requester/index.html" title="mod mmtk::plan::gc_requester">gc_requester</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="generational/index.html" title="mod mmtk::plan::generational">generational</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Generational plans (with a copying nursery)
Generational plans</div></li><li><div class="item-name"><a class="mod" href="global/index.html" title="mod mmtk::plan::global">global</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">The global part of a plan implementation.</div></li><li><div class="item-name"><a class="mod" href="immix/index.html" title="mod mmtk::plan::immix">immix</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="markcompact/index.html" title="mod mmtk::plan::markcompact">markcompact</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="marksweep/index.html" title="mod mmtk::plan::marksweep">marksweep</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Plan: marksweep</div></li><li><div class="item-name"><a class="mod" href="mutator_context/index.html" title="mod mmtk::plan::mutator_context">mutator_context</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Mutator context for each application thread.</div></li><li><div class="item-name"><a class="mod" href="nogc/index.html" title="mod mmtk::plan::nogc">nogc</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Plan: nogc (allocation-only)</div></li><li><div class="item-name"><a class="mod" href="pageprotect/index.html" title="mod mmtk::plan::pageprotect">pageprotect</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Plan: pageprotect</div></li><li><div class="item-name"><a class="mod" href="plan_constraints/index.html" title="mod mmtk::plan::plan_constraints">plan_constraints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Plan-specific constraints.</div></li><li><div class="item-name"><a class="mod" href="semispace/index.html" title="mod mmtk::plan::semispace">semispace</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Plan: semispace</div></li><li><div class="item-name"><a class="mod" href="sticky/index.html" title="mod mmtk::plan::sticky">sticky</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Sticky plans (using sticky marks for generational behaviors without a copying nursery)</div></li><li><div class="item-name"><a class="mod" href="tracing/index.html" title="mod mmtk::plan::tracing">tracing</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This module contains code useful for tracing,
i.e. visiting the reachable objects by traversing all or part of an object graph.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Mutator.html" title="struct mmtk::plan::Mutator">Mutator</a></div><div class="desc docblock-short">A mutator is a per-thread data structure that manages allocations and barriers. It is usually highly coupled with the language VM.
It is recommended for MMTk users 1) to have a mutator struct of the same layout in the thread local storage that can be accessed efficiently,
and 2) to implement fastpath allocation and barriers for the mutator in the VM side.</div></li><li><div class="item-name"><a class="struct" href="struct.ObjectsClosure.html" title="struct mmtk::plan::ObjectsClosure">ObjectsClosure</a></div><div class="desc docblock-short">A transitive closure visitor to collect all the edges of an object.</div></li><li><div class="item-name"><a class="struct" href="struct.PlanConstraints.html" title="struct mmtk::plan::PlanConstraints">PlanConstraints</a></div><div class="desc docblock-short">This struct defines plan-specific constraints.
Most of the constraints are constants. Each plan should declare a constant of this struct,
and use the constant wherever possible. However, for plan-neutral implementations,
these constraints are not constant.</div></li><li><div class="item-name"><a class="struct" href="struct.VectorQueue.html" title="struct mmtk::plan::VectorQueue">VectorQueue</a></div><div class="desc docblock-short">An implementation of <code>ObjectQueue</code> using a <code>Vec</code>.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.AllocationSemantics.html" title="enum mmtk::plan::AllocationSemantics">AllocationSemantics</a></div><div class="desc docblock-short">Allocation semantics that MMTk provides.
Each allocation request requires a desired semantic for the object to allocate.</div></li><li><div class="item-name"><a class="enum" href="enum.BarrierSelector.html" title="enum mmtk::plan::BarrierSelector">BarrierSelector</a></div><div class="desc docblock-short">BarrierSelector describes which barrier to use.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.DEFAULT_PLAN_CONSTRAINTS.html" title="constant mmtk::plan::DEFAULT_PLAN_CONSTRAINTS">DEFAULT_PLAN_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.GENCOPY_CONSTRAINTS.html" title="constant mmtk::plan::GENCOPY_CONSTRAINTS">GENCOPY_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.GENIMMIX_CONSTRAINTS.html" title="constant mmtk::plan::GENIMMIX_CONSTRAINTS">GENIMMIX_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.IMMIX_CONSTRAINTS.html" title="constant mmtk::plan::IMMIX_CONSTRAINTS">IMMIX_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.MARKCOMPACT_CONSTRAINTS.html" title="constant mmtk::plan::MARKCOMPACT_CONSTRAINTS">MARKCOMPACT_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.MS_CONSTRAINTS.html" title="constant mmtk::plan::MS_CONSTRAINTS">MS_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.NOGC_CONSTRAINTS.html" title="constant mmtk::plan::NOGC_CONSTRAINTS">NOGC_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.PP_CONSTRAINTS.html" title="constant mmtk::plan::PP_CONSTRAINTS">PP_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.SS_CONSTRAINTS.html" title="constant mmtk::plan::SS_CONSTRAINTS">SS_CONSTRAINTS</a></div></li><li><div class="item-name"><a class="constant" href="constant.STICKY_IMMIX_CONSTRAINTS.html" title="constant mmtk::plan::STICKY_IMMIX_CONSTRAINTS">STICKY_IMMIX_CONSTRAINTS</a></div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.MutatorContext.html" title="trait mmtk::plan::MutatorContext">MutatorContext</a></div><div class="desc docblock-short">Each GC plan should provide their implementation of a MutatorContext. <em>Note that this trait is no longer needed as we removed
per-plan mutator implementation and we will remove this trait as well in the future.</em></div></li><li><div class="item-name"><a class="trait" href="trait.ObjectQueue.html" title="trait mmtk::plan::ObjectQueue">ObjectQueue</a></div><div class="desc docblock-short">This trait represents an object queue to enqueue objects during tracing.</div></li><li><div class="item-name"><a class="trait" href="trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a></div><div class="desc docblock-short">A plan describes the global core functionality for all memory management schemes.
All global MMTk plans should implement this trait.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.VectorObjectQueue.html" title="type mmtk::plan::VectorObjectQueue">VectorObjectQueue</a></div></li></ul></section></div></main></body></html>