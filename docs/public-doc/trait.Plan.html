<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A plan describes the global core functionality for all memory management schemes. All global MMTk plans should implement this trait."><meta name="keywords" content="rust, rustlang, rust-lang, Plan"><title>Plan in mmtk - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../mmtk/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.png" alt="logo"></div>
        </a><h2 class="location">Trait Plan</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#associated-types">Associated Types</a></h3><div class="sidebar-links"><a href="#associatedtype.VM">VM</a></div><h3 class="sidebar-title"><a href="#required-methods">Required Methods</a></h3><div class="sidebar-links"><a href="#tymethod.base">base</a><a href="#tymethod.collection_required">collection_required</a><a href="#tymethod.constraints">constraints</a><a href="#tymethod.get_allocator_mapping">get_allocator_mapping</a><a href="#tymethod.get_spaces">get_spaces</a><a href="#tymethod.get_used_pages">get_used_pages</a><a href="#tymethod.prepare">prepare</a><a href="#tymethod.release">release</a><a href="#tymethod.schedule_collection">schedule_collection</a></div><h3 class="sidebar-title"><a href="#provided-methods">Provided Methods</a></h3><div class="sidebar-links"><a href="#method.common">common</a><a href="#method.create_copy_config">create_copy_config</a><a href="#method.end_of_gc">end_of_gc</a><a href="#method.enter_sanity">enter_sanity</a><a href="#method.force_full_heap_collection">force_full_heap_collection</a><a href="#method.generational">generational</a><a href="#method.get_available_pages">get_available_pages</a><a href="#method.get_collection_reserved_pages">get_collection_reserved_pages</a><a href="#method.get_free_pages">get_free_pages</a><a href="#method.get_mature_physical_pages_available">get_mature_physical_pages_available</a><a href="#method.get_reserved_pages">get_reserved_pages</a><a href="#method.get_total_pages">get_total_pages</a><a href="#method.handle_user_collection_request">handle_user_collection_request</a><a href="#method.is_current_gc_nursery">is_current_gc_nursery</a><a href="#method.is_emergency_collection">is_emergency_collection</a><a href="#method.is_in_sanity">is_in_sanity</a><a href="#method.is_initialized">is_initialized</a><a href="#method.last_collection_full_heap">last_collection_full_heap</a><a href="#method.last_collection_was_exhaustive">last_collection_was_exhaustive</a><a href="#method.leave_sanity">leave_sanity</a><a href="#method.mmapper">mmapper</a><a href="#method.modify_check">modify_check</a><a href="#method.options">options</a><a href="#method.prepare_worker">prepare_worker</a><a href="#method.should_trigger_gc_when_heap_is_full">should_trigger_gc_when_heap_is_full</a></div><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.downcast">downcast</a><a href="#method.downcast_mut">downcast_mut</a><a href="#method.downcast_rc">downcast_rc</a><a href="#method.downcast_ref">downcast_ref</a><a href="#method.is">is</a></div><h3 class="sidebar-title"><a href="#implementors">Implementors</a></h3></div><h2 class="location">Other items in<br><a href="index.html">mmtk</a></h2><div id="sidebar-vars" data-name="Plan" data-ty="trait" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../mmtk/index.html"><img class="rust-logo" src="../rust-logo.png" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><h1 class="fqn"><span class="in-band">Trait <a href="index.html">mmtk</a>::<wbr><a class="trait" href="#">Plan</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/mmtk/plan/global.rs.html#161-331" title="goto source code">[src]</a></span></h1><div class="docblock item-decl"><pre class="rust trait"><code>pub trait Plan: 'static + <a class="trait" href="https://doc.rust-lang.org/1.59.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + Downcast {
    type <a href="#associatedtype.VM" class="associatedtype">VM</a>: <a class="trait" href="vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>;
<details class="rustdoc-toggle type-contents-toggle"><summary class="hideme"><span>Show 34 methods</span></summary>    fn <a href="#tymethod.constraints" class="fnname">constraints</a>(&amp;self) -&gt; &amp;'static <a class="struct" href="plan/struct.PlanConstraints.html" title="struct mmtk::plan::PlanConstraints">PlanConstraints</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.base" class="fnname">base</a>(&amp;self) -&gt; &amp;BasePlan&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.schedule_collection" class="fnname">schedule_collection</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;'static self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_scheduler: &amp;GCWorkScheduler&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;);
<div class="item-spacer"></div>    fn <a href="#tymethod.get_spaces" class="fnname">get_spaces</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;dyn Space&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u8.html">u8</a>, A&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;A&gt; <a class="trait" href="https://doc.rust-lang.org/1.59.0/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u8.html">u8</a>, A&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.59.0/core/alloc/trait.Allocator.html" title="trait core::alloc::Allocator">Allocator</a>,&nbsp;</span></span></code></span></div></span></span>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_allocator_mapping" class="fnname">get_allocator_mapping</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; &amp;'static EnumMap&lt;<a class="enum" href="plan/enum.AllocationSemantics.html" title="enum mmtk::plan::AllocationSemantics">AllocationSemantics</a>, <a class="enum" href="util/alloc/enum.AllocatorSelector.html" title="enum mmtk::util::alloc::AllocatorSelector">AllocatorSelector</a>&gt;;
<div class="item-spacer"></div>    fn <a href="#tymethod.prepare" class="fnname">prepare</a>(&amp;mut self, tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>);
<div class="item-spacer"></div>    fn <a href="#tymethod.release" class="fnname">release</a>(&amp;mut self, tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>);
<div class="item-spacer"></div>    fn <a href="#tymethod.collection_required" class="fnname">collection_required</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space_full: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space: <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn Space&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a>;
<div class="item-spacer"></div>    fn <a href="#tymethod.get_used_pages" class="fnname">get_used_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a>;

    fn <a href="#method.create_copy_config" class="fnname">create_copy_config</a>(&amp;'static self) -&gt; <a class="struct" href="util/copy/struct.CopyConfig.html" title="struct mmtk::util::copy::CopyConfig">CopyConfig</a>&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.common" class="fnname">common</a>(&amp;self) -&gt; &amp;CommonPlan&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.generational" class="fnname">generational</a>(&amp;self) -&gt; &amp;Gen&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt; { ... }
<div class="item-spacer"></div>    fn <a href="#method.mmapper" class="fnname">mmapper</a>(&amp;self) -&gt; &amp;'static FragmentedMapper { ... }
<div class="item-spacer"></div>    fn <a href="#method.options" class="fnname">options</a>(&amp;self) -&gt; &amp;<a class="struct" href="util/options/struct.Options.html" title="struct mmtk::util::options::Options">Options</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_current_gc_nursery" class="fnname">is_current_gc_nursery</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.enter_sanity" class="fnname">enter_sanity</a>(&amp;self) { ... }
<div class="item-spacer"></div>    fn <a href="#method.leave_sanity" class="fnname">leave_sanity</a>(&amp;self) { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_in_sanity" class="fnname">is_in_sanity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_initialized" class="fnname">is_initialized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.should_trigger_gc_when_heap_is_full" class="fnname">should_trigger_gc_when_heap_is_full</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.prepare_worker" class="fnname">prepare_worker</a>(&amp;self, _worker: &amp;mut <a class="struct" href="scheduler/struct.GCWorker.html" title="struct mmtk::scheduler::GCWorker">GCWorker</a>&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;) { ... }
<div class="item-spacer"></div>    fn <a href="#method.end_of_gc" class="fnname">end_of_gc</a>(&amp;mut self, _tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>) { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_reserved_pages" class="fnname">get_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_total_pages" class="fnname">get_total_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_available_pages" class="fnname">get_available_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_mature_physical_pages_available" class="fnname">get_mature_physical_pages_available</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_collection_reserved_pages" class="fnname">get_collection_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.get_free_pages" class="fnname">get_free_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.is_emergency_collection" class="fnname">is_emergency_collection</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.handle_user_collection_request" class="fnname">handle_user_collection_request</a>(&amp;self, tls: <a class="struct" href="util/opaque_pointer/struct.VMMutatorThread.html" title="struct mmtk::util::opaque_pointer::VMMutatorThread">VMMutatorThread</a>, force: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a>) { ... }
<div class="item-spacer"></div>    fn <a href="#method.last_collection_was_exhaustive" class="fnname">last_collection_was_exhaustive</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.last_collection_full_heap" class="fnname">last_collection_full_heap</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a> { ... }
<div class="item-spacer"></div>    fn <a href="#method.force_full_heap_collection" class="fnname">force_full_heap_collection</a>(&amp;self) { ... }
<div class="item-spacer"></div>    fn <a href="#method.modify_check" class="fnname">modify_check</a>(&amp;self, object: <a class="struct" href="util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>) { ... }
</details>}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A plan describes the global core functionality for all memory management schemes.
All global MMTk plans should implement this trait.</p>
<p>The global instance defines and manages static resources
(such as memory and virtual memory resources).</p>
<p>Constructor:</p>
<p>For the constructor of a new plan, there are a few things the constructor <em>must</em> do
(please check existing plans and see what they do in the constructor):</p>
<ol>
<li>Create a HeapMeta, and use this HeapMeta to initialize all the spaces.</li>
<li>Create a vector of all the side metadata specs with <code>SideMetadataContext::new_global_specs()</code>,
the parameter is a vector of global side metadata specs that are specific to the plan.</li>
<li>Initialize all the spaces the plan uses with the heap meta, and the global metadata specs vector.</li>
<li>Create a <code>SideMetadataSanity</code> object, and invoke verify_side_metadata_sanity() for each space (or
invoke verify_side_metadata_sanity() in <code>CommonPlan</code>/<code>BasePlan</code> for the spaces in the common/base plan).</li>
</ol>
<p>Methods in this trait:</p>
<p>Only methods that will be overridden by each specific plan should be included in this trait. The trait may
provide a default implementation, and each plan can override the implementation. For methods that won’t be
overridden, we should implement those methods in BasePlan (or CommonPlan) and call them from there instead.
We should avoid having methods with the same name in both Plan and BasePlan, as this may confuse people, and
they may call a wrong method by mistake.</p>
</div></details><h2 id="associated-types" class="small-section-header">Associated Types<a href="#associated-types" class="anchor"></a></h2><div class="methods"><div id="associatedtype.VM" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#162" title="goto source code">[src]</a></div><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a>: <a class="trait" href="vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a></h4></div></div><h2 id="required-methods" class="small-section-header">Required methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><div id="tymethod.constraints" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#164" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.constraints" class="fnname">constraints</a>(&amp;self) -&gt; &amp;'static <a class="struct" href="plan/struct.PlanConstraints.html" title="struct mmtk::plan::PlanConstraints">PlanConstraints</a></h4></div><div id="tymethod.base" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#173" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.base" class="fnname">base</a>(&amp;self) -&gt; &amp;BasePlan&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;</h4></div><div id="tymethod.schedule_collection" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#174" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.schedule_collection" class="fnname">schedule_collection</a>(&amp;'static self, _scheduler: &amp;GCWorkScheduler&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;)</h4></div><details class="rustdoc-toggle" open><summary><div id="tymethod.get_spaces" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#189" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_spaces" class="fnname">get_spaces</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;dyn Space&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<div class="notable-traits-tooltiptext"><span class="docblock"><div class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u8.html">u8</a>, A&gt;</div><code class="content"><span class="where fmt-newline">impl&lt;A&gt; <a class="trait" href="https://doc.rust-lang.org/1.59.0/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.u8.html">u8</a>, A&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.59.0/core/alloc/trait.Allocator.html" title="trait core::alloc::Allocator">Allocator</a>,&nbsp;</span></span></code></span></div></span></span></h4></div></summary><div class="docblock"><p>get all the spaces in the plan</p>
</div></details><div id="tymethod.get_allocator_mapping" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#191" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_allocator_mapping" class="fnname">get_allocator_mapping</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self<br>) -&gt; &amp;'static EnumMap&lt;<a class="enum" href="plan/enum.AllocationSemantics.html" title="enum mmtk::plan::AllocationSemantics">AllocationSemantics</a>, <a class="enum" href="util/alloc/enum.AllocatorSelector.html" title="enum mmtk::util::alloc::AllocatorSelector">AllocatorSelector</a>&gt;</h4></div><details class="rustdoc-toggle" open><summary><div id="tymethod.prepare" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#225" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.prepare" class="fnname">prepare</a>(&amp;mut self, tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></div></summary><div class="docblock"><p>Prepare the plan before a GC. This is invoked in an initial step in the GC.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.release" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#234" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.release" class="fnname">release</a>(&amp;mut self, tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></div></summary><div class="docblock"><p>Release the plan after transitive closure. A plan can implement this method to call each policy’s release,
or create any work packet that should be done in release.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.collection_required" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#247" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.collection_required" class="fnname">collection_required</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;space_full: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;space: <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn Space&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Ask the plan if they would trigger a GC. If MMTk is in charge of triggering GCs, this method is called
periodically during allocation. However, MMTk may delegate the GC triggering decision to the runtime,
in which case, this method may not be called. This method returns true to trigger a collection.</p>
<h5 id="arguments" class="section-header"><a href="#arguments">Arguments</a></h5>
<ul>
<li><code>space_full</code>: the allocation to a specific space failed, must recover pages within ‘space’.</li>
<li><code>space</code>: an option to indicate if there is a space that has failed in an allocation.</li>
</ul>
</div></details><details class="rustdoc-toggle" open><summary><div id="tymethod.get_used_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#293" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#tymethod.get_used_pages" class="fnname">get_used_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the number of pages that are used.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle" open><summary><div id="method.create_copy_config" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#168-171" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.create_copy_config" class="fnname">create_copy_config</a>(&amp;'static self) -&gt; <a class="struct" href="util/copy/struct.CopyConfig.html" title="struct mmtk::util::copy::CopyConfig">CopyConfig</a>&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;</h4></div></summary><div class="docblock"><p>Create a copy config for this plan. A copying GC plan MUST override this method,
and provide a valid config.</p>
</div></details><div id="method.common" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#175-177" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.common" class="fnname">common</a>(&amp;self) -&gt; &amp;CommonPlan&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;</h4></div><div id="method.generational" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#178-180" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.generational" class="fnname">generational</a>(&amp;self) -&gt; &amp;Gen&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;</h4></div><div id="method.mmapper" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#181-183" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.mmapper" class="fnname">mmapper</a>(&amp;self) -&gt; &amp;'static FragmentedMapper</h4></div><div id="method.options" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#184-186" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.options" class="fnname">options</a>(&amp;self) -&gt; &amp;<a class="struct" href="util/options/struct.Options.html" title="struct mmtk::util::options::Options">Options</a></h4></div><details class="rustdoc-toggle" open><summary><div id="method.is_current_gc_nursery" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#194-196" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_current_gc_nursery" class="fnname">is_current_gc_nursery</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Is current GC only collecting objects allocated since last GC?</p>
</div></details><div id="method.enter_sanity" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#199-201" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.enter_sanity" class="fnname">enter_sanity</a>(&amp;self)</h4></div><div id="method.leave_sanity" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#204-206" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.leave_sanity" class="fnname">leave_sanity</a>(&amp;self)</h4></div><div id="method.is_in_sanity" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#209-211" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_in_sanity" class="fnname">is_in_sanity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div><div id="method.is_initialized" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#213-215" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_initialized" class="fnname">is_initialized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div><div id="method.should_trigger_gc_when_heap_is_full" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#217-221" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.should_trigger_gc_when_heap_is_full" class="fnname">should_trigger_gc_when_heap_is_full</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div><details class="rustdoc-toggle" open><summary><div id="method.prepare_worker" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#229" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.prepare_worker" class="fnname">prepare_worker</a>(&amp;self, _worker: &amp;mut <a class="struct" href="scheduler/struct.GCWorker.html" title="struct mmtk::scheduler::GCWorker">GCWorker</a>&lt;Self::<a class="associatedtype" href="plan/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::Plan::VM">VM</a>&gt;)</h4></div></summary><div class="docblock"><p>Prepare a worker for a GC. Each worker has its own prepare method. This hook is for plan-specific
per-worker preparation. This method is invoked once per worker by the worker thread passed as the argument.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.end_of_gc" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#238" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.end_of_gc" class="fnname">end_of_gc</a>(&amp;mut self, _tls: <a class="struct" href="util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></div></summary><div class="docblock"><p>Inform the plan about the end of a GC. It is guaranteed that there is no further work for this GC.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_reserved_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#255-257" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_reserved_pages" class="fnname">get_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the number of pages that are reserved, including used pages and pages that will
be used (e.g. for copying).</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_total_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#260-262" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_total_pages" class="fnname">get_total_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the total number of pages for the heap.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_available_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#266-277" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_available_pages" class="fnname">get_available_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the number of pages that are still available for use. The available pages
should always be positive or 0.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_mature_physical_pages_available" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#281-283" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_mature_physical_pages_available" class="fnname">get_mature_physical_pages_available</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Return the number of pages available for allocation into the mature space. Only
generational plans have to implement this function.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_collection_reserved_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#288-290" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_collection_reserved_pages" class="fnname">get_collection_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the number of pages that are reserved for collection. By default, we return 0.
For copying plans, they need to override this and calculate required pages to complete
a copying GC.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.get_free_pages" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#297-299" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.get_free_pages" class="fnname">get_free_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.usize.html">usize</a></h4></div></summary><div class="docblock"><p>Get the number of pages that are NOT used. This is clearly different from available pages.
Free pages are unused, but some of them may have been reserved for some reason.</p>
</div></details><div id="method.is_emergency_collection" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#301-303" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.is_emergency_collection" class="fnname">is_emergency_collection</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div><details class="rustdoc-toggle" open><summary><div id="method.handle_user_collection_request" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#306-308" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.handle_user_collection_request" class="fnname">handle_user_collection_request</a>(&amp;self, tls: <a class="struct" href="util/opaque_pointer/struct.VMMutatorThread.html" title="struct mmtk::util::opaque_pointer::VMMutatorThread">VMMutatorThread</a>, force: <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a>)</h4></div></summary><div class="docblock"><p>The application code has requested a collection.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.last_collection_was_exhaustive" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#312-314" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.last_collection_was_exhaustive" class="fnname">last_collection_was_exhaustive</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Return whether last GC was an exhaustive attempt to collect the heap.
For many collectors this is the same as asking whether the last GC was a full heap collection.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.last_collection_full_heap" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#317-319" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.last_collection_full_heap" class="fnname">last_collection_full_heap</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Return whether last GC is a full GC.</p>
</div></details><details class="rustdoc-toggle" open><summary><div id="method.force_full_heap_collection" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#322" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.force_full_heap_collection" class="fnname">force_full_heap_collection</a>(&amp;self)</h4></div></summary><div class="docblock"><p>Force the next collection to be full heap.</p>
</div></details><div id="method.modify_check" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#324-330" title="goto source code">[src]</a></div><h4 class="code-header">fn <a href="#method.modify_check" class="fnname">modify_check</a>(&amp;self, object: <a class="struct" href="util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>)</h4></div></div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;VM&gt; dyn <a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;VM: <a class="trait" href="https://doc.rust-lang.org/1.59.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.is" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#method.is" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is" class="fnname">is</a>&lt;__T:&nbsp;<a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.bool.html">bool</a></h4></div></summary><div class="docblock"><p>Returns true if the trait object wraps an object of type <code>__T</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.downcast" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#method.downcast" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.downcast" class="fnname">downcast</a>&lt;__T:&nbsp;<a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;Self&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;__T&gt;, <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;Self&gt;&gt;</h4></div></summary><div class="docblock"><p>Returns a boxed object from a boxed trait object if the underlying object is of type
<code>__T</code>. Returns the original boxed trait if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.downcast_rc" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#method.downcast_rc" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.downcast_rc" class="fnname">downcast_rc</a>&lt;__T:&nbsp;<a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;Self&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;__T&gt;, <a class="struct" href="https://doc.rust-lang.org/1.59.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;Self&gt;&gt;</h4></div></summary><div class="docblock"><p>Returns an <code>Rc</code>-ed object from an <code>Rc</code>-ed trait object if the underlying object is of
type <code>__T</code>. Returns the original <code>Rc</code>-ed trait if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.downcast_ref" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#method.downcast_ref" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.downcast_ref" class="fnname">downcast_ref</a>&lt;__T:&nbsp;<a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.reference.html">&amp;</a>__T&gt;</h4></div></summary><div class="docblock"><p>Returns a reference to the object within the trait object if it is of type <code>__T</code>, or
<code>None</code> if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.downcast_mut" class="method has-srclink"><div class="rightside"><a class="srclink" href="../src/mmtk/plan/global.rs.html#333" title="goto source code">[src]</a></div><a href="#method.downcast_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.downcast_mut" class="fnname">downcast_mut</a>&lt;__T:&nbsp;<a class="trait" href="plan/trait.Plan.html" title="trait mmtk::plan::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.59.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.59.0/std/primitive.reference.html">&amp;mut </a>__T&gt;</h4></div></summary><div class="docblock"><p>Returns a mutable reference to the object within the trait object if it is of type
<code>__T</code>, or <code>None</code> if it isn’t.</p>
</div></details></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div class="item-list" id="implementors-list"></div><script type="text/javascript" src="../implementors/mmtk/trait.Plan.js" async></script></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="mmtk" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.59.0 (9d1b2106e 2022-02-23)" ></div>
</body></html>