<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="GC algorithms from the MMTk suite."><meta name="keywords" content="rust, rustlang, rust-lang, plan"><title>mmtk::plan - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../mmtk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../mmtk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module plan</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Module <a href="../index.html">mmtk</a>::<wbr><a class="mod" href="#">plan</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/mmtk/plan/mod.rs.html#1-69">source</a> Â· <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>GC algorithms from the MMTk suite.</p>
<p>This module provides various GC plans, each of which implements a GC algorithm.
Generally a plan consists of a few parts:</p>
<ul>
<li>A plan type that implements the <a href="global/trait.Plan.html"><code>Plan</code></a> trait, which defines
spaces used in the plan, and their behaviors in GC and page accounting.</li>
<li>A mutator definition, which describes the mapping between allocators and allocation semantics,
and the mapping between allocators and spaces. If the plan needs barrier, the barrier definition is
also included here.</li>
<li>A constant for <a href="plan_constraints/struct.PlanConstraints.html"><code>PlanConstraints</code></a>, which defines
plan-specific constants.</li>
<li>Plan-specific <a href="../scheduler/work/trait.GCWork.html"><code>GCWork</code></a>, which is scheduled during GC.</li>
</ul>
<p>For more about implementing a plan, it is recommended to read the <a href="/docs/tutorial/Tutorial.md">MMTk tutorial</a>.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="barriers/index.html" title="mmtk::plan::barriers mod">barriers</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Read/Write barrier implementations.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="gc_requester/index.html" title="mmtk::plan::gc_requester mod">gc_requester</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="generational/index.html" title="mmtk::plan::generational mod">generational</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Generational plans (with a copying nursery)</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="global/index.html" title="mmtk::plan::global mod">global</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">The global part of a plan implementation.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="immix/index.html" title="mmtk::plan::immix mod">immix</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="markcompact/index.html" title="mmtk::plan::markcompact mod">markcompact</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="marksweep/index.html" title="mmtk::plan::marksweep mod">marksweep</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Plan: marksweep</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="mutator_context/index.html" title="mmtk::plan::mutator_context mod">mutator_context</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Mutator context for each application thread.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="nogc/index.html" title="mmtk::plan::nogc mod">nogc</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Plan: nogc (allocation-only)</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="pageprotect/index.html" title="mmtk::plan::pageprotect mod">pageprotect</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Plan: pageprotect</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="plan_constraints/index.html" title="mmtk::plan::plan_constraints mod">plan_constraints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Plan-specific constraints.</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="semispace/index.html" title="mmtk::plan::semispace mod">semispace</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Plan: semispace</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="sticky/index.html" title="mmtk::plan::sticky mod">sticky</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">Sticky plans (using sticky marks for generational behaviors without a copying nursery)</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tracing/index.html" title="mmtk::plan::tracing mod">tracing</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="item-right docblock-short">This module contains code useful for tracing,
i.e. visiting the reachable objects by traversing all or part of an object graph.</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Mutator.html" title="mmtk::plan::Mutator struct">Mutator</a></div><div class="item-right docblock-short">A mutator is a per-thread data structure that manages allocations and barriers. It is usually highly coupled with the language VM.
It is recommended for MMTk users 1) to have a mutator struct of the same layout in the thread local storage that can be accessed efficiently,
and 2) to implement fastpath allocation and barriers for the mutator in the VM side.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ObjectsClosure.html" title="mmtk::plan::ObjectsClosure struct">ObjectsClosure</a></div><div class="item-right docblock-short">A transitive closure visitor to collect all the edges of an object.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PlanConstraints.html" title="mmtk::plan::PlanConstraints struct">PlanConstraints</a></div><div class="item-right docblock-short">This struct defines plan-specific constraints.
Most of the constraints are constants. Each plan should declare a constant of this struct,
and use the constant wherever possible. However, for plan-neutral implementations,
these constraints are not constant.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VectorQueue.html" title="mmtk::plan::VectorQueue struct">VectorQueue</a></div><div class="item-right docblock-short">An implementation of <code>ObjectQueue</code> using a <code>Vec</code>.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.AllocationSemantics.html" title="mmtk::plan::AllocationSemantics enum">AllocationSemantics</a></div><div class="item-right docblock-short">Allocation semantics that MMTk provides.
Each allocation request requires a desired semantic for the object to allocate.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BarrierSelector.html" title="mmtk::plan::BarrierSelector enum">BarrierSelector</a></div><div class="item-right docblock-short">BarrierSelector describes which barrier to use.</div></div></div><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.DEFAULT_PLAN_CONSTRAINTS.html" title="mmtk::plan::DEFAULT_PLAN_CONSTRAINTS constant">DEFAULT_PLAN_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.GENCOPY_CONSTRAINTS.html" title="mmtk::plan::GENCOPY_CONSTRAINTS constant">GENCOPY_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.GENIMMIX_CONSTRAINTS.html" title="mmtk::plan::GENIMMIX_CONSTRAINTS constant">GENIMMIX_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.IMMIX_CONSTRAINTS.html" title="mmtk::plan::IMMIX_CONSTRAINTS constant">IMMIX_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MARKCOMPACT_CONSTRAINTS.html" title="mmtk::plan::MARKCOMPACT_CONSTRAINTS constant">MARKCOMPACT_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.MS_CONSTRAINTS.html" title="mmtk::plan::MS_CONSTRAINTS constant">MS_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.NOGC_CONSTRAINTS.html" title="mmtk::plan::NOGC_CONSTRAINTS constant">NOGC_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.PP_CONSTRAINTS.html" title="mmtk::plan::PP_CONSTRAINTS constant">PP_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.SS_CONSTRAINTS.html" title="mmtk::plan::SS_CONSTRAINTS constant">SS_CONSTRAINTS</a></div></div><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.STICKY_IMMIX_CONSTRAINTS.html" title="mmtk::plan::STICKY_IMMIX_CONSTRAINTS constant">STICKY_IMMIX_CONSTRAINTS</a></div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.MutatorContext.html" title="mmtk::plan::MutatorContext trait">MutatorContext</a></div><div class="item-right docblock-short">Each GC plan should provide their implementation of a MutatorContext. <em>Note that this trait is no longer needed as we removed
per-plan mutator implementation and we will remove this trait as well in the future.</em></div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.ObjectQueue.html" title="mmtk::plan::ObjectQueue trait">ObjectQueue</a></div><div class="item-right docblock-short">This trait represents an object queue to enqueue objects during tracing.</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Plan.html" title="mmtk::plan::Plan trait">Plan</a></div><div class="item-right docblock-short">A plan describes the global core functionality for all memory management schemes.
All global MMTk plans should implement this trait.</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.VectorObjectQueue.html" title="mmtk::plan::VectorObjectQueue type">VectorObjectQueue</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="mmtk" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.1 (90743e729 2023-01-10)" ></div></body></html>