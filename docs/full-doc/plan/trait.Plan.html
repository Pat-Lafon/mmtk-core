<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A plan describes the global core functionality for all memory management schemes. All global MMTk plans should implement this trait."><meta name="keywords" content="rust, rustlang, rust-lang, Plan"><title>Plan in mmtk::plan - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../mmtk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../mmtk/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Plan</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.VM">VM</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.base">base</a></li><li><a href="#tymethod.collection_required">collection_required</a></li><li><a href="#tymethod.constraints">constraints</a></li><li><a href="#tymethod.get_allocator_mapping">get_allocator_mapping</a></li><li><a href="#tymethod.get_spaces">get_spaces</a></li><li><a href="#tymethod.get_used_pages">get_used_pages</a></li><li><a href="#tymethod.prepare">prepare</a></li><li><a href="#tymethod.release">release</a></li><li><a href="#tymethod.schedule_collection">schedule_collection</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.common">common</a></li><li><a href="#method.create_copy_config">create_copy_config</a></li><li><a href="#method.end_of_gc">end_of_gc</a></li><li><a href="#method.enter_sanity">enter_sanity</a></li><li><a href="#method.generational">generational</a></li><li><a href="#method.get_available_pages">get_available_pages</a></li><li><a href="#method.get_collection_reserved_pages">get_collection_reserved_pages</a></li><li><a href="#method.get_free_pages">get_free_pages</a></li><li><a href="#method.get_reserved_pages">get_reserved_pages</a></li><li><a href="#method.get_total_pages">get_total_pages</a></li><li><a href="#method.handle_user_collection_request">handle_user_collection_request</a></li><li><a href="#method.is_emergency_collection">is_emergency_collection</a></li><li><a href="#method.is_in_sanity">is_in_sanity</a></li><li><a href="#method.is_initialized">is_initialized</a></li><li><a href="#method.last_collection_was_exhaustive">last_collection_was_exhaustive</a></li><li><a href="#method.leave_sanity">leave_sanity</a></li><li><a href="#method.modify_check">modify_check</a></li><li><a href="#method.options">options</a></li><li><a href="#method.prepare_worker">prepare_worker</a></li><li><a href="#method.sanity_check_object">sanity_check_object</a></li><li><a href="#method.should_trigger_gc_when_heap_is_full">should_trigger_gc_when_heap_is_full</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.downcast">downcast</a></li><li><a href="#method.downcast_mut">downcast_mut</a></li><li><a href="#method.downcast_rc">downcast_rc</a></li><li><a href="#method.downcast_ref">downcast_ref</a></li><li><a href="#method.is">is</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In mmtk::plan</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="../index.html">mmtk</a>::<wbr><a href="index.html">plan</a>::<wbr><a class="trait" href="#">Plan</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../src/mmtk/plan/global.rs.html#166-346">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait Plan: 'static + <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + Downcast {
    type <a href="#associatedtype.VM" class="associatedtype">VM</a>: <a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>;

<details class="rustdoc-toggle type-contents-toggle"><summary class="hideme"><span>Show 30 methods</span></summary>    fn <a href="#tymethod.constraints" class="fnname">constraints</a>(&amp;self) -&gt; &amp;'static <a class="struct" href="plan_constraints/struct.PlanConstraints.html" title="struct mmtk::plan::plan_constraints::PlanConstraints">PlanConstraints</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.base" class="fnname">base</a>(&amp;self) -&gt; &amp;<a class="struct" href="global/struct.BasePlan.html" title="struct mmtk::plan::global::BasePlan">BasePlan</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.schedule_collection" class="fnname">schedule_collection</a>(&amp;'static self, _scheduler: &amp;<a class="struct" href="../scheduler/scheduler/struct.GCWorkScheduler.html" title="struct mmtk::scheduler::scheduler::GCWorkScheduler">GCWorkScheduler</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.get_spaces" class="fnname">get_spaces</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;dyn <a class="trait" href="../policy/space/trait.Space.html" title="trait mmtk::policy::space::Space">Space</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u8.html">u8</a>, A&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;A&gt; <a class="trait" href="https://doc.rust-lang.org/1.66.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u8.html">u8</a>, A&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/alloc/trait.Allocator.html" title="trait core::alloc::Allocator">Allocator</a>,</span></span></code></span></span></span></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_allocator_mapping" class="fnname">get_allocator_mapping</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; &amp;'static EnumMap&lt;<a class="enum" href="global/enum.AllocationSemantics.html" title="enum mmtk::plan::global::AllocationSemantics">AllocationSemantics</a>, <a class="enum" href="../util/alloc/allocators/enum.AllocatorSelector.html" title="enum mmtk::util::alloc::allocators::AllocatorSelector">AllocatorSelector</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.prepare" class="fnname">prepare</a>(&amp;mut self, tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.release" class="fnname">release</a>(&amp;mut self, tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>);
<span class="item-spacer"></span>    fn <a href="#tymethod.collection_required" class="fnname">collection_required</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space_full: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;space: <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="../policy/space/trait.Space.html" title="trait mmtk::policy::space::Space">Space</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_used_pages" class="fnname">get_used_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a>;

    fn <a href="#method.create_copy_config" class="fnname">create_copy_config</a>(&amp;'static self) -&gt; <a class="struct" href="../util/copy/struct.CopyConfig.html" title="struct mmtk::util::copy::CopyConfig">CopyConfig</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.common" class="fnname">common</a>(&amp;self) -&gt; &amp;<a class="struct" href="global/struct.CommonPlan.html" title="struct mmtk::plan::global::CommonPlan">CommonPlan</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.generational" class="fnname">generational</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="generational/global/trait.GenerationalPlan.html" title="trait mmtk::plan::generational::global::GenerationalPlan">GenerationalPlan</a>&lt;VM = Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.options" class="fnname">options</a>(&amp;self) -&gt; &amp;<a class="struct" href="../util/options/struct.Options.html" title="struct mmtk::util::options::Options">Options</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.enter_sanity" class="fnname">enter_sanity</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.leave_sanity" class="fnname">leave_sanity</a>(&amp;self) { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_in_sanity" class="fnname">is_in_sanity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_initialized" class="fnname">is_initialized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.should_trigger_gc_when_heap_is_full" class="fnname">should_trigger_gc_when_heap_is_full</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.prepare_worker" class="fnname">prepare_worker</a>(&amp;self, _worker: &amp;mut <a class="struct" href="../scheduler/worker/struct.GCWorker.html" title="struct mmtk::scheduler::worker::GCWorker">GCWorker</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;) { ... }
<span class="item-spacer"></span>    fn <a href="#method.end_of_gc" class="fnname">end_of_gc</a>(&amp;mut self, _tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>) { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_reserved_pages" class="fnname">get_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_total_pages" class="fnname">get_total_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_available_pages" class="fnname">get_available_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_collection_reserved_pages" class="fnname">get_collection_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.get_free_pages" class="fnname">get_free_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.is_emergency_collection" class="fnname">is_emergency_collection</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_user_collection_request" class="fnname">handle_user_collection_request</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tls: <a class="struct" href="../util/opaque_pointer/struct.VMMutatorThread.html" title="struct mmtk::util::opaque_pointer::VMMutatorThread">VMMutatorThread</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;force: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exhaustive: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a><br>&nbsp;&nbsp;&nbsp;&nbsp;) { ... }
<span class="item-spacer"></span>    fn <a href="#method.last_collection_was_exhaustive" class="fnname">last_collection_was_exhaustive</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.modify_check" class="fnname">modify_check</a>(&amp;self, object: <a class="struct" href="../util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>) { ... }
<span class="item-spacer"></span>    fn <a href="#method.sanity_check_object" class="fnname">sanity_check_object</a>(&amp;self, _object: <a class="struct" href="../util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a> { ... }
</details>}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A plan describes the global core functionality for all memory management schemes.
All global MMTk plans should implement this trait.</p>
<p>The global instance defines and manages static resources
(such as memory and virtual memory resources).</p>
<p>Constructor:</p>
<p>For the constructor of a new plan, there are a few things the constructor <em>must</em> do
(please check existing plans and see what they do in the constructor):</p>
<ol>
<li>Create a HeapMeta, and use this HeapMeta to initialize all the spaces.</li>
<li>Create a vector of all the side metadata specs with <code>SideMetadataContext::new_global_specs()</code>,
the parameter is a vector of global side metadata specs that are specific to the plan.</li>
<li>Initialize all the spaces the plan uses with the heap meta, and the global metadata specs vector.</li>
<li>Create a <code>SideMetadataSanity</code> object, and invoke verify_side_metadata_sanity() for each space (or
invoke verify_side_metadata_sanity() in <code>CommonPlan</code>/<code>BasePlan</code> for the spaces in the common/base plan).</li>
</ol>
<p>Methods in this trait:</p>
<p>Only methods that will be overridden by each specific plan should be included in this trait. The trait may
provide a default implementation, and each plan can override the implementation. For methods that won’t be
overridden, we should implement those methods in BasePlan (or CommonPlan) and call them from there instead.
We should avoid having methods with the same name in both Plan and BasePlan, as this may confuse people, and
they may call a wrong method by mistake.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor"></a></h2><div class="methods"><section id="associatedtype.VM" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#167">source</a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a>: <a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a></h4></section></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><section id="tymethod.constraints" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#169">source</a><h4 class="code-header">fn <a href="#tymethod.constraints" class="fnname">constraints</a>(&amp;self) -&gt; &amp;'static <a class="struct" href="plan_constraints/struct.PlanConstraints.html" title="struct mmtk::plan::plan_constraints::PlanConstraints">PlanConstraints</a></h4></section><section id="tymethod.base" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#178">source</a><h4 class="code-header">fn <a href="#tymethod.base" class="fnname">base</a>(&amp;self) -&gt; &amp;<a class="struct" href="global/struct.BasePlan.html" title="struct mmtk::plan::global::BasePlan">BasePlan</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;</h4></section><section id="tymethod.schedule_collection" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#179">source</a><h4 class="code-header">fn <a href="#tymethod.schedule_collection" class="fnname">schedule_collection</a>(&amp;'static self, _scheduler: &amp;<a class="struct" href="../scheduler/scheduler/struct.GCWorkScheduler.html" title="struct mmtk::scheduler::scheduler::GCWorkScheduler">GCWorkScheduler</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;)</h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.get_spaces" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#193">source</a><h4 class="code-header">fn <a href="#tymethod.get_spaces" class="fnname">get_spaces</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&amp;dyn <a class="trait" href="../policy/space/trait.Space.html" title="trait mmtk::policy::space::Space">Space</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt;<span class="notable-traits"><span class="notable-traits-tooltip">ⓘ<span class="notable-traits-tooltiptext"><span class="docblock"><span class="notable">Notable traits for <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u8.html">u8</a>, A&gt;</span><code class="content"><span class="where fmt-newline">impl&lt;A&gt; <a class="trait" href="https://doc.rust-lang.org/1.66.1/std/io/trait.Write.html" title="trait std::io::Write">Write</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.u8.html">u8</a>, A&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;A: <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/alloc/trait.Allocator.html" title="trait core::alloc::Allocator">Allocator</a>,</span></span></code></span></span></span></span></h4></section></summary><div class="docblock"><p>get all the spaces in the plan</p>
</div></details><section id="tymethod.get_allocator_mapping" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#195">source</a><h4 class="code-header">fn <a href="#tymethod.get_allocator_mapping" class="fnname">get_allocator_mapping</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self<br>) -&gt; &amp;'static EnumMap&lt;<a class="enum" href="global/enum.AllocationSemantics.html" title="enum mmtk::plan::global::AllocationSemantics">AllocationSemantics</a>, <a class="enum" href="../util/alloc/allocators/enum.AllocatorSelector.html" title="enum mmtk::util::alloc::allocators::AllocatorSelector">AllocatorSelector</a>&gt;</h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.prepare" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#224">source</a><h4 class="code-header">fn <a href="#tymethod.prepare" class="fnname">prepare</a>(&amp;mut self, tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></section></summary><div class="docblock"><p>Prepare the plan before a GC. This is invoked in an initial step in the GC.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.release" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#233">source</a><h4 class="code-header">fn <a href="#tymethod.release" class="fnname">release</a>(&amp;mut self, tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></section></summary><div class="docblock"><p>Release the plan after transitive closure. A plan can implement this method to call each policy’s release,
or create any work packet that should be done in release.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.collection_required" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#246">source</a><h4 class="code-header">fn <a href="#tymethod.collection_required" class="fnname">collection_required</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;space_full: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;space: <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="../policy/space/trait.Space.html" title="trait mmtk::policy::space::Space">Space</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt;<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Ask the plan if they would trigger a GC. If MMTk is in charge of triggering GCs, this method is called
periodically during allocation. However, MMTk may delegate the GC triggering decision to the runtime,
in which case, this method may not be called. This method returns true to trigger a collection.</p>
<h5 id="arguments"><a href="#arguments">Arguments</a></h5>
<ul>
<li><code>space_full</code>: the allocation to a specific space failed, must recover pages within ‘space’.</li>
<li><code>space</code>: an option to indicate if there is a space that has failed in an allocation.</li>
</ul>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="tymethod.get_used_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#293">source</a><h4 class="code-header">fn <a href="#tymethod.get_used_pages" class="fnname">get_used_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the number of pages that are used.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor"></a></h2><div class="methods"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.create_copy_config" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#173-176">source</a><h4 class="code-header">fn <a href="#method.create_copy_config" class="fnname">create_copy_config</a>(&amp;'static self) -&gt; <a class="struct" href="../util/copy/struct.CopyConfig.html" title="struct mmtk::util::copy::CopyConfig">CopyConfig</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;</h4></section></summary><div class="docblock"><p>Create a copy config for this plan. A copying GC plan MUST override this method,
and provide a valid config.</p>
</div></details><section id="method.common" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#180-182">source</a><h4 class="code-header">fn <a href="#method.common" class="fnname">common</a>(&amp;self) -&gt; &amp;<a class="struct" href="global/struct.CommonPlan.html" title="struct mmtk::plan::global::CommonPlan">CommonPlan</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;</h4></section><section id="method.generational" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#183-187">source</a><h4 class="code-header">fn <a href="#method.generational" class="fnname">generational</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;dyn <a class="trait" href="generational/global/trait.GenerationalPlan.html" title="trait mmtk::plan::generational::global::GenerationalPlan">GenerationalPlan</a>&lt;VM = Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;&gt;</h4></section><section id="method.options" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#188-190">source</a><h4 class="code-header">fn <a href="#method.options" class="fnname">options</a>(&amp;self) -&gt; &amp;<a class="struct" href="../util/options/struct.Options.html" title="struct mmtk::util::options::Options">Options</a></h4></section><section id="method.enter_sanity" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#198-200">source</a><h4 class="code-header">fn <a href="#method.enter_sanity" class="fnname">enter_sanity</a>(&amp;self)</h4></section><section id="method.leave_sanity" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#203-205">source</a><h4 class="code-header">fn <a href="#method.leave_sanity" class="fnname">leave_sanity</a>(&amp;self)</h4></section><section id="method.is_in_sanity" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#208-210">source</a><h4 class="code-header">fn <a href="#method.is_in_sanity" class="fnname">is_in_sanity</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section><section id="method.is_initialized" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#212-214">source</a><h4 class="code-header">fn <a href="#method.is_initialized" class="fnname">is_initialized</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section><section id="method.should_trigger_gc_when_heap_is_full" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#216-220">source</a><h4 class="code-header">fn <a href="#method.should_trigger_gc_when_heap_is_full" class="fnname">should_trigger_gc_when_heap_is_full</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.prepare_worker" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#228">source</a><h4 class="code-header">fn <a href="#method.prepare_worker" class="fnname">prepare_worker</a>(&amp;self, _worker: &amp;mut <a class="struct" href="../scheduler/worker/struct.GCWorker.html" title="struct mmtk::scheduler::worker::GCWorker">GCWorker</a>&lt;Self::<a class="associatedtype" href="global/trait.Plan.html#associatedtype.VM" title="type mmtk::plan::global::Plan::VM">VM</a>&gt;)</h4></section></summary><div class="docblock"><p>Prepare a worker for a GC. Each worker has its own prepare method. This hook is for plan-specific
per-worker preparation. This method is invoked once per worker by the worker thread passed as the argument.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.end_of_gc" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#237">source</a><h4 class="code-header">fn <a href="#method.end_of_gc" class="fnname">end_of_gc</a>(&amp;mut self, _tls: <a class="struct" href="../util/opaque_pointer/struct.VMWorkerThread.html" title="struct mmtk::util::opaque_pointer::VMWorkerThread">VMWorkerThread</a>)</h4></section></summary><div class="docblock"><p>Inform the plan about the end of a GC. It is guaranteed that there is no further work for this GC.
This is invoked once per GC by one worker thread. <code>tls</code> is the worker thread that executes this method.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_reserved_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#254-256">source</a><h4 class="code-header">fn <a href="#method.get_reserved_pages" class="fnname">get_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the number of pages that are reserved, including used pages and pages that will
be used (e.g. for copying).</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_total_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#259-261">source</a><h4 class="code-header">fn <a href="#method.get_total_pages" class="fnname">get_total_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the total number of pages for the heap.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_available_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#265-283">source</a><h4 class="code-header">fn <a href="#method.get_available_pages" class="fnname">get_available_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the number of pages that are still available for use. The available pages
should always be positive or 0.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_collection_reserved_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#288-290">source</a><h4 class="code-header">fn <a href="#method.get_collection_reserved_pages" class="fnname">get_collection_reserved_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the number of pages that are reserved for collection. By default, we return 0.
For copying plans, they need to override this and calculate required pages to complete
a copying GC.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.get_free_pages" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#297-299">source</a><h4 class="code-header">fn <a href="#method.get_free_pages" class="fnname">get_free_pages</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Get the number of pages that are NOT used. This is clearly different from available pages.
Free pages are unused, but some of them may have been reserved for some reason.</p>
</div></details><section id="method.is_emergency_collection" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#301-303">source</a><h4 class="code-header">fn <a href="#method.is_emergency_collection" class="fnname">is_emergency_collection</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.handle_user_collection_request" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#312-321">source</a><h4 class="code-header">fn <a href="#method.handle_user_collection_request" class="fnname">handle_user_collection_request</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self,<br>&nbsp;&nbsp;&nbsp;&nbsp;tls: <a class="struct" href="../util/opaque_pointer/struct.VMMutatorThread.html" title="struct mmtk::util::opaque_pointer::VMMutatorThread">VMMutatorThread</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;force: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;exhaustive: <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a><br>)</h4></section></summary><div class="docblock"><p>The application code has requested a collection. This is just a GC hint, and
we may ignore it.</p>
<h5 id="arguments-1"><a href="#arguments-1">Arguments</a></h5>
<ul>
<li><code>tls</code>: The mutator thread that requests the GC</li>
<li><code>force</code>: The request cannot be ignored (except for NoGC)</li>
<li><code>exhaustive</code>: The requested GC should be exhaustive. This is also a hint.</li>
</ul>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.last_collection_was_exhaustive" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#326-328">source</a><h4 class="code-header">fn <a href="#method.last_collection_was_exhaustive" class="fnname">last_collection_was_exhaustive</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Return whether last GC was an exhaustive attempt to collect the heap.
For example, for generational GCs, minor collection is not an exhaustive collection.
For example, for Immix, fast collection (no defragmentation) is not an exhaustive collection.</p>
</div></details><section id="method.modify_check" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#330-336">source</a><h4 class="code-header">fn <a href="#method.modify_check" class="fnname">modify_check</a>(&amp;self, object: <a class="struct" href="../util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>)</h4></section><details class="rustdoc-toggle method-toggle" open><summary><section id="method.sanity_check_object" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#343-345">source</a><h4 class="code-header">fn <a href="#method.sanity_check_object" class="fnname">sanity_check_object</a>(&amp;self, _object: <a class="struct" href="../util/address/struct.ObjectReference.html" title="struct mmtk::util::address::ObjectReference">ObjectReference</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>An object is firstly reached by a sanity GC. So the object is reachable
in the current GC, and all the GC work has been done for the object (such as
tracing and releasing). A plan can implement this to
use plan specific semantics to check if the object is sane.
Return true if the object is considered valid by the plan.</p>
</div></details></div><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-dyn%20Plan%3CVM%20=%20VM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><a href="#impl-dyn%20Plan%3CVM%20=%20VM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM&gt; dyn <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;VM: <a class="trait" href="https://doc.rust-lang.org/1.66.1/core/any/trait.Any.html" title="trait core::any::Any">Any</a> + 'static,</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><h4 class="code-header">pub fn <a href="#method.is" class="fnname">is</a>&lt;__T:&nbsp;<a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if the trait object wraps an object of type <code>__T</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.downcast" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><h4 class="code-header">pub fn <a href="#method.downcast" class="fnname">downcast</a>&lt;__T:&nbsp;<a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;Self&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;__T&gt;, <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;Self&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns a boxed object from a boxed trait object if the underlying object is of type
<code>__T</code>. Returns the original boxed trait if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.downcast_rc" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><h4 class="code-header">pub fn <a href="#method.downcast_rc" class="fnname">downcast_rc</a>&lt;__T:&nbsp;<a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self: <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;Self&gt;<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;__T&gt;, <a class="struct" href="https://doc.rust-lang.org/1.66.1/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;Self&gt;&gt;</h4></section></summary><div class="docblock"><p>Returns an <code>Rc</code>-ed object from an <code>Rc</code>-ed trait object if the underlying object is of
type <code>__T</code>. Returns the original <code>Rc</code>-ed trait if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.downcast_ref" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><h4 class="code-header">pub fn <a href="#method.downcast_ref" class="fnname">downcast_ref</a>&lt;__T:&nbsp;<a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.reference.html">&amp;</a>__T&gt;</h4></section></summary><div class="docblock"><p>Returns a reference to the object within the trait object if it is of type <code>__T</code>, or
<code>None</code> if it isn’t.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.downcast_mut" class="method has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/global.rs.html#348">source</a><h4 class="code-header">pub fn <a href="#method.downcast_mut" class="fnname">downcast_mut</a>&lt;__T:&nbsp;<a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a>&lt;VM = VM&gt;&gt;(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.66.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.1/std/primitive.reference.html">&amp;mut </a>__T&gt;</h4></section></summary><div class="docblock"><p>Returns a mutable reference to the object within the trait object if it is of type
<code>__T</code>, or <code>None</code> if it isn’t.</p>
</div></details></div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-GenCopy%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/generational/copying/global.rs.html#45-158">source</a><a href="#impl-Plan-for-GenCopy%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="generational/copying/global/struct.GenCopy.html" title="struct mmtk::plan::generational::copying::global::GenCopy">GenCopy</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-GenImmix%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/generational/immix/global.rs.html#67-188">source</a><a href="#impl-Plan-for-GenImmix%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="generational/immix/global/struct.GenImmix.html" title="struct mmtk::plan::generational::immix::global::GenImmix">GenImmix</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-2" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-2" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-Immix%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/immix/global.rs.html#49-123">source</a><a href="#impl-Plan-for-Immix%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="immix/global/struct.Immix.html" title="struct mmtk::plan::immix::global::Immix">Immix</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-3" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-3" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-MarkCompact%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/markcompact/global.rs.html#47-179">source</a><a href="#impl-Plan-for-MarkCompact%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="markcompact/global/struct.MarkCompact.html" title="struct mmtk::plan::markcompact::global::MarkCompact">MarkCompact</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-4" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-4" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-MarkSweep%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/marksweep/global.rs.html#49-97">source</a><a href="#impl-Plan-for-MarkSweep%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="marksweep/global/struct.MarkSweep.html" title="struct mmtk::plan::marksweep::global::MarkSweep">MarkSweep</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-5" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-5" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-NoGC%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/nogc/global.rs.html#33-87">source</a><a href="#impl-Plan-for-NoGC%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="nogc/global/struct.NoGC.html" title="struct mmtk::plan::nogc::global::NoGC">NoGC</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-6" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-6" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-PageProtect%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/pageprotect/global.rs.html#35-83">source</a><a href="#impl-Plan-for-PageProtect%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="pageprotect/global/struct.PageProtect.html" title="struct mmtk::plan::pageprotect::global::PageProtect">PageProtect</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-7" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-7" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-SemiSpace%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/semispace/global.rs.html#46-135">source</a><a href="#impl-Plan-for-SemiSpace%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="semispace/global/struct.SemiSpace.html" title="struct mmtk::plan::semispace::global::SemiSpace">SemiSpace</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-8" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-8" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Plan-for-StickyImmix%3CVM%3E" class="impl has-srclink"><a class="srclink rightside" href="../../src/mmtk/plan/sticky/immix/global.rs.html#47-193">source</a><a href="#impl-Plan-for-StickyImmix%3CVM%3E" class="anchor"></a><h3 class="code-header">impl&lt;VM:&nbsp;<a class="trait" href="../vm/trait.VMBinding.html" title="trait mmtk::vm::VMBinding">VMBinding</a>&gt; <a class="trait" href="global/trait.Plan.html" title="trait mmtk::plan::global::Plan">Plan</a> for <a class="struct" href="sticky/immix/global/struct.StickyImmix.html" title="struct mmtk::plan::sticky::immix::global::StickyImmix">StickyImmix</a>&lt;VM&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.VM-9" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.VM-9" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.VM" class="associatedtype">VM</a> = VM</h4></section></div></details></div><script src="../../implementors/mmtk/plan/global/trait.Plan.js" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="mmtk" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.1 (90743e729 2023-01-10)" ></div></body></html>